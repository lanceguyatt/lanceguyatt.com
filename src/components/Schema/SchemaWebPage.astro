---
import { SITE } from '@/config'

export type SchemaWebPageProps = {
  name?: string
  description?: string
  url?: string
  image?: {
    url?: string
    width?: number
    height?: number
    alt?: string
  }
}

const {
  name = SITE.name,
  description = SITE.description,
  url = '/',
  image = SITE.image
} = Astro.props as SchemaWebPageProps

const ldData = {
  '@context': 'https://schema.org',
  '@graph': [
    {
      '@type': 'WebPage',
      name,
      description,
      url: `${SITE.url}${url}`,
      image: {
        '@type': 'ImageObject',
        url: image.url,
        width: image.width,
        height: image.height,
        description: image.alt
      },
      copyrightHolder: {
        type: 'Person',
        name: 'Lance Guyatt'
      },
      copyrightYear: SITE.copyrightYear
    }
  ]
}
---

<script type="application/ld+json" set:html={JSON.stringify(ldData, null, 2)} />
